# Инструкция по подключению к базе данных

## Данные для подключения

**Хост:** `192.168.3.35` (raspberry)  
**Порт:** `5433`  
**База данных:** `mydb`  
**Пользователь:** `postgres`  
**Пароль:** `postgres`

## Способы подключения

### 1. Через psql (если установлен локально)

```bash
psql -h 192.168.3.35 -p 5433 -U postgres -d mydb
```

При запросе пароля введите: `postgres`

### 2. Через Docker на удаленном сервере

```bash
ssh sybota@192.168.3.35 "cd /home/sybota/proj && docker compose exec postgres psql -U postgres -d mydb"
```

### 3. Через строку подключения (для приложений)

```
postgresql://postgres:postgres@192.168.3.35:5433/mydb
```

### 4. Через GUI клиенты (DBeaver, pgAdmin, DataGrip и т.д.)

**Настройки подключения:**
- **Host:** `192.168.3.35`
- **Port:** `5433`
- **Database:** `mydb`
- **Username:** `postgres`
- **Password:** `postgres`

## Проверка подключения

### Проверить доступность порта:
```bash
nc -zv 192.168.3.35 5433
```

### Проверить версию PostgreSQL:
```bash
psql -h 192.168.3.35 -p 5433 -U postgres -d mydb -c "SELECT version();"
```

### Список всех баз данных:
```bash
psql -h 192.168.3.35 -p 5433 -U postgres -c "\l"
```

### Список таблиц в базе mydb:
```bash
psql -h 192.168.3.35 -p 5433 -U postgres -d mydb -c "\dt"
```

## Важная информация

- PostgreSQL работает в Docker контейнере `postgres_db`
- Контейнер слушает на порту `5433` (внешний) -> `5432` (внутренний)
- База данных доступна из сети (порт открыт на 0.0.0.0:5433)
- Версия PostgreSQL: **15.15**

## Безопасность

⚠️ **Внимание:** Текущие креды (postgres/postgres) используются для разработки.  
Для production рекомендуется:
- Изменить пароль на более сложный
- Ограничить доступ по IP (firewall)
- Использовать SSL соединения

# Исправление проблемы с доступностью сайта

## Текущая ситуация:
- ✅ DNS настроен правильно (sybota.space → 46.191.230.86)
- ✅ Nginx работает локально
- ✅ Приложение запущено
- ❌ Сайт недоступен извне

## Возможные причины:

### 1. Файрвол блокирует порт 80

**Решение:**

```bash
# Проверьте, активен ли nftables
sudo systemctl status nftables

# Если активен, добавьте правила:
sudo nft add rule inet filter input tcp dport 80 accept
sudo nft add rule inet filter input tcp dport 443 accept

# Или временно отключите для проверки:
sudo systemctl stop nftables
```

### 2. Провайдер блокирует порт 80

Некоторые провайдеры блокируют входящие соединения на порты 80 и 443.

**Решение:**
- Обратитесь к провайдеру и попросите открыть порты 80 и 443
- Или используйте другой порт (например, 8080) и пробросьте его через роутер

### 3. Роутер не пробрасывает порт 80

Если у вас есть роутер, нужно настроить проброс портов (Port Forwarding).

**Решение:**
1. Зайдите в настройки роутера (обычно 192.168.1.1 или 192.168.0.1)
2. Найдите раздел "Port Forwarding" или "Виртуальные серверы"
3. Добавьте правило:
   - **Внешний порт:** 80
   - **Внутренний IP:** IP вашего сервера в локальной сети
   - **Внутренний порт:** 80
   - **Протокол:** TCP

### 4. Проверка доступности

**С вашего компьютера (не с сервера):**

```bash
# Проверка по IP
curl -I http://46.191.230.86

# Проверка по домену
curl -I http://sybota.space

# Если не работает, проверьте ping
ping 46.191.230.86
```

## Быстрая диагностика:

### Шаг 1: Проверьте файрвол

```bash
# Остановите файрвол временно
sudo systemctl stop nftables

# Попробуйте открыть сайт в браузере
# Если заработало - проблема в файрволе
```

### Шаг 2: Проверьте доступность порта извне

Используйте онлайн-сервисы:
- https://www.yougetsignal.com/tools/open-ports/
- Введите IP: `46.191.230.86` и порт: `80`
- Если порт закрыт - проблема в файрволе или провайдере

### Шаг 3: Проверьте логи nginx

```bash
sudo tail -f /var/log/nginx/sybota.space.error.log
```

Если видите ошибки - исправьте их.

## Альтернативное решение: Использование другого порта

Если провайдер блокирует 80/443, можно использовать порт 8080:

1. Измените конфигурацию nginx:
```bash
sudo nano /etc/nginx/sites-available/sybota.space
```

Измените:
```nginx
listen 8080;  # вместо 80
```

2. Откройте порт 8080:
```bash
sudo nft add rule inet filter input tcp dport 8080 accept
```

3. Перезапустите nginx:
```bash
sudo systemctl reload nginx
```

4. Откройте в браузере: http://sybota.space:8080

## Контакты для помощи:

Если ничего не помогает:
1. Проверьте настройки роутера (если есть)
2. Свяжитесь с провайдером и уточните, не блокируют ли они порты 80/443
3. Проверьте настройки файрвола на сервере


